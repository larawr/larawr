#include <stdio.h>
#include <string.h>

#define R 7
#define C 5

void DisplayBoard(char P[][C]){
	int i, j;
	
	for (i = 0; i < R; i++){
		for (j = 0; j < C; j++)
		printf(" %c ", P[i][j]);
	printf("\n");}
}

void InitializeBoard(char P[][C], int *Alpha, int *Beta, int *Free){
	int i, j;
	
		for (i = 0; i < R; i++)
		for (j = 0; j < C; j++){ 
		if((j+1) % 2 == (i+1) % 2 && i+1 <= 2){
			P[i][j] = 'B'; 
			*Beta+=1;}
		else if((j+1) % 2 == (i+1) % 2 && i+1 >= 6){
			P[i][j] = 'A'; 
			*Alpha+=1;}
		else{
		 	P[i][j] = '_';
			*Free+=1;}}
	
	DisplayBoard(P);
}

void NextPlayerMove(char P[][C], int *Alpha, int *Beta, int *Free,int *aTurn,int *ok){
	int a, b, c, d;
	
	if (*aTurn == 1)
	printf("\nAlpha's Turn\n");
	else
	printf("\nBeta's Turn\n");
	
	printf("\nxPrev yPrev xNext yNext\n");
	scanf("%d %d %d %d", &b, &a, &d, &c);
	

	if (*aTurn == 1 && P[a-1][b-1] == 'A' && (a-1) == (c-1) + 1 && ((d-1) == (b-1) || (d-1) == (b-1)+1 || (b - 1) == (d-1)+1))
	*ok = 1; 

	
	if (*aTurn == 0 && P[a-1][b-1] == 'B' && (c-1) == (a-1) + 1 && ((d-1) == (b-1) || (d-1) == (b-1)+1 || (b - 1) == (d-1)+1))
	*ok = 1; 

	
	if (*ok == 1 && *aTurn == 1 && P [d-1][c-1] == '_'){
		P[a-1][b-1] = '_';
		P[c-1][d-1] = 'A';
		*aTurn = 0;
		*ok = 0;
	}
	
	if (*ok == 1 && *aTurn == 0 && P [d-1][c-1] == '_'){
		P[a-1][b-1] = '_';
		P[c-1][d-1] = 'B';
		*aTurn = 1;
		*ok = 0;
	}
	
	if(*ok == 1 && *aTurn == 1 && P [d-1][c-1] == 'B' && !((c+1) % 2 == (d+1) % 2))
	ok = 0;
	
	if(*ok == 1 && *aTurn == 1 && P [d-1][c-1] == 'B' && ((c+1) % 2 == (d+1) % 2)){
	P[a-1][b-1] = '_';
	P[c-1][d-1] = 'A';
	*aTurn = 0;
	*ok = 0;
	*Beta-=1;
	}

	if(*ok == 1 && *aTurn == 0 && P [d-1][c-1] == 'A' && !((c+1) % 2 == (d+1) % 2))
	*ok = 0;
	
	if(*ok == 1 && *aTurn == 0 && P [d-1][c-1] == 'A' && ((c+1) % 2 == (d+1) % 2)){
	P[a-1][b-1] = '_';
	P[c-1][d-1] = 'B';
	*aTurn = 1;
	*ok = 0;
	*Alpha-=1;
	}
	
	DisplayBoard(P);
	
}

void GameOver(int *over, int *Alpha,int *Beta,char P[][C]){
	if (*Beta == 0 || (*Alpha != 0 && (P[0][0] == 'A' || P[0][2] == 'A'|| P[0][4] == 'A'))){
	printf("Alpha Wins");
	*over=1;
	}
	
	if (*Alpha == 0 || (*Beta != 0 && (P[6][0] == 'B' || P[6][2] == 'B'|| P[6][4] == 'B'))){
	printf("Beta Wins");
	*over=1;
	}
}

int main (){
	char P[R][C];
	int Alpha = 0, Beta = 0, Free = 0;
	int aTurn = 1;
	int over = 0;
	int ok = 0;
	
	InitializeBoard(P, &Alpha, &Beta, &Free);
	
	while (over == 0){
	NextPlayerMove(P, &Alpha, &Beta, &Free, &aTurn, &ok);
	GameOver(&over, &Alpha, &Beta, P);
	}

	return 0;
}
